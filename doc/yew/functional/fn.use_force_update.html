<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This hook is used to manually force a function component to re-render."><title>use_force_update in yew::functional - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="yew" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.2 (25ef9e3d8 2024-04-09)" data-channel="1.77.2" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../yew/index.html"><img src="https://yew.rs/img/logo.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../yew/index.html"><img src="https://yew.rs/img/logo.png" alt="logo"></a><h2><a href="../../yew/index.html">yew</a><span class="version">0.21.0</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In yew::functional</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../yew/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">yew</a>::<wbr><a href="index.html">functional</a>::<wbr><a class="fn" href="#">use_force_update</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/yew/functional/hooks/use_force_update.rs.html#99-113">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn use_force_update() -&gt; impl <a class="trait" href="trait.Hook.html" title="trait yew::functional::Hook">Hook</a>&lt;Output = <a class="struct" href="struct.UseForceUpdateHandle.html" title="struct yew::functional::UseForceUpdateHandle">UseForceUpdateHandle</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This hook is used to manually force a function component to re-render.</p>
<h2 id="note"><a class="doc-anchor" href="#note">§</a>Note</h2>
<p>Often, using this hook means that you’re doing something wrong.
Try to use more specialized hooks, such as <a href="fn.use_state.html" title="fn yew::functional::use_state"><code>use_state</code></a> and <a href="fn.use_reducer.html" title="fn yew::functional::use_reducer"><code>use_reducer</code></a>.
This hook should only be used when your component depends on external state where you
can’t subscribe to changes, or as a low-level primitive to enable such a subscription-based
approach.</p>
<h2 id="use-case"><a class="doc-anchor" href="#use-case">§</a>Use-case</h2>
<p>Use this hook when wrapping an API that doesn’t expose precise subscription events for fetched
data. You could then, at some point, invalidate your local cache of the fetched data and trigger
a re-render to let the normal render flow of components tell you again which data to fetch, and
repopulate the cache accordingly.</p>
<p>A large externally managed cache, such as a app-wide cache for GraphQL data
should not rerender every component whenever new data arrives, but only those where a query
changed.</p>
<p>If the state of your component is not shared, you should need to use this hook.</p>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<p>This example implements a silly, manually updated display of the current time. The component
is re-rendered every time the button is clicked. You should usually use a timeout and
<code>use_state</code> to automatically trigger a re-render every second without having to use this hook.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>yew::prelude::<span class="kw-2">*</span>;

<span class="attr">#[function_component]
</span><span class="kw">fn </span>ManuallyUpdatedDate() -&gt; Html {
    <span class="kw">let </span>trigger = use_force_update();
    <span class="kw">let </span>onclick = use_state(<span class="kw">move </span>|| Callback::from(<span class="kw">move </span>|<span class="kw">_</span>| trigger.force_update()));
    <span class="kw">let </span>last_update = js_sys::Date::new_0().to_utc_string();
    <span class="macro">html! </span>{
        &lt;div&gt;
            &lt;button onclick={<span class="kw-2">&amp;*</span>onclick}&gt;{<span class="string">"Update now!"</span>}&lt;/button&gt;
            &lt;p&gt;{<span class="string">"Last updated: "</span>}{last_update}&lt;/p&gt;
        &lt;/div&gt;
    }
}</code></pre></div>
</div></details></section></div></main></body></html>