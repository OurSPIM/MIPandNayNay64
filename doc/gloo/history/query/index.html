<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Encoding and decoding strategies for query strings."><title>gloo::history::query - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="gloo" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.2 (25ef9e3d8 2024-04-09)" data-channel="1.77.2" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../gloo/index.html">gloo</a><span class="version">0.10.0</span></h2></div><h2 class="location"><a href="#">Module query</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></section><h2><a href="../index.html">In gloo::history</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../gloo/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">gloo</a>::<wbr><a href="../index.html">history</a>::<wbr><a class="mod" href="#">query</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/gloo_history/lib.rs.html#16">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="encoding-and-decoding-strategies-for-query-strings"><a class="doc-anchor" href="#encoding-and-decoding-strategies-for-query-strings">§</a>Encoding and decoding strategies for query strings.</h2>
<p>There are various strategies to map Rust types into HTTP query strings. The <a href="trait.FromQuery.html" title="trait gloo::history::query::FromQuery"><code>FromQuery</code></a> and
<a href="trait.ToQuery.html" title="trait gloo::history::query::ToQuery"><code>ToQuery</code></a> encode the logic for how this encoding and decoding is performed. These traits
are public as a form of dependency inversion, so that you can override the decoding and
encoding strategy being used.</p>
<p>These traits are used by the <a href="../trait.History.html" title="trait gloo::history::History"><code>History</code></a> trait, which allows for modifying the
history state, and the <a href="../struct.Location.html" title="struct gloo::history::Location"><code>Location</code></a> struct, which allows for extracting the
current location (and this query).</p>
<h3 id="default-strategy"><a class="doc-anchor" href="#default-strategy">§</a>Default Strategy</h3>
<p>By default, any Rust type that implements <a href="../../../serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize"><code>Serialize</code></a> or <a href="../../../serde/de/trait.Deserialize.html" title="trait serde::de::Deserialize"><code>Deserialize</code></a>
has an implementation of <a href="trait.ToQuery.html" title="trait gloo::history::query::ToQuery"><code>ToQuery</code></a> or <a href="trait.FromQuery.html" title="trait gloo::history::query::FromQuery"><code>FromQuery</code></a>, respectively. This implementation uses
the <code>serde_urlencoded</code> crate, which implements a standards-compliant <code>x-www-form-urlencoded</code>
encoder and decoder. Some patterns are not supported by this crate, for example it is not
possible to serialize arrays at the moment. If this is an issue for you, consider using the
<code>serde_qs</code> crate.</p>
<p>Example:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>serde::{Serialize, Deserialize};
<span class="kw">use </span>gloo_history::{MemoryHistory, History};

<span class="attr">#[derive(Serialize)]
</span><span class="kw">struct </span>Query {
    name: String,
}

<span class="kw">let </span>query = Query {
    name: <span class="string">"user"</span>.into(),
};

<span class="kw">let </span>history = MemoryHistory::new();
history.push_with_query(<span class="string">"index.html"</span>, <span class="kw-2">&amp;</span>query).unwrap();</code></pre></div>
<h3 id="custom-strategy"><a class="doc-anchor" href="#custom-strategy">§</a>Custom Strategy</h3>
<p>If desired, the <a href="trait.FromQuery.html" title="trait gloo::history::query::FromQuery"><code>FromQuery</code></a> and <a href="trait.ToQuery.html" title="trait gloo::history::query::ToQuery"><code>ToQuery</code></a> traits can also be manually implemented on
types to customize the encoding and decoding strategies. See the documentation for these traits
for more detail on how this can be done.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Raw.html" title="struct gloo::history::query::Raw">Raw</a></div><div class="desc docblock-short">Encoding for raw query strings.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.FromQuery.html" title="trait gloo::history::query::FromQuery">FromQuery</a></div><div class="desc docblock-short">Type that can be decoded from a query string.</div></li><li><div class="item-name"><a class="trait" href="trait.ToQuery.html" title="trait gloo::history::query::ToQuery">ToQuery</a></div><div class="desc docblock-short">Type that can be encoded into a query string.</div></li></ul></section></div></main></body></html>